<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootshaus Neckarsulm – Premium Digital Menü Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style-premium.css">
    
    <script>
        function toggleAllergens() {
            const elements = document.querySelectorAll('.item-allergens');
            elements.forEach(el => {
                el.style.display = el.style.display === 'none' || el.style.display === '' ? 'block' : 'none';
            });
            const button = document.getElementById('allergen-btn');
            button.textContent = button.textContent.includes('anzeigen') ? 'Allergene AUSBLENDEN' : 'Allergene ANZEIGEN';
        }
    </script>
</head>

<body>
<div class="main-wrapper">
    
    <header class="premium-header">
        <div class="hero-premium">
            <h1>BOOTSHAUS NECKARSULM</h1>
            <p>BISTRO · CAFÉ · MUSIKPUB</p>
        </div>
        <div class="top-info-bar">
            <span>Warme Küche: 11:00 – 14:00 Uhr | 17:00 – 21:00 Uhr</span>
            <span>Tischreservierung: 0 71 32 / 73 42</span>
        </div>
    </header>

    <div class="content-area">
        <main class="menu-main">
            
            <section class="menu-section premium-block">
                <h2 class="section-title">Wöchentliches Angebot</h2>
                <div class="interactive-row">
                    <button id="allergen-btn" class="accent-button" onclick="toggleAllergens()">
                        Allergene & Zusatzstoffe anzeigen
                    </button>
                    <a href="speiseplan (37).pdf" target="_blank" class="secondary-button">PDF Speiseplan (Zum Vergleich)</a>
                </div>

                <div id="weekly-menu-container">
                    <p class="loading-text">Wochenkarte wird geladen...</p>
                </div>
            </section>

            <section class="menu-section premium-block">
                <h2 class="section-title">Täglich & Klassiker</h2>
                <p class="sub-info">Unsere beliebtesten Gerichte - täglich verfügbar.</p>

                <div class="menu-item-premium">
                    <img src="https://via.placeholder.com/150x100/9d8c6b/FFFFFF?text=Rostbraten" alt="Bild Rostbraten" class="item-photo">
                    <div class="item-details-premium">
                        <div class="item-name-premium">1. Rostbraten, Spätzle o. Pommes und Salat</div>
                        <div class="item-allergens" style="display:none;">Enthält: Gluten (A), Ei (C), Sellerie (L)</div>
                    </div>
                    <div class="item-price-premium">21,00 €</div>
                </div>

                <div class="menu-item-premium">
                    <img src="https://via.placeholder.com/150x100/4a759e/FFFFFF?text=Schnitzel" alt="Bild Schnitzel" class="item-photo">
                    <div class="item-details-premium">
                        <div class="item-name-premium">5. Rahmschnitzel, Spätzle o. Pommes u. Salat</div>
                        <div class="item-allergens" style="display:none;">Enthält: Gluten (A), Laktose (G)</div>
                    </div>
                    <div class="item-price-premium">13,00 €</div>
                </div>
                
                <div class="menu-item-premium">
                    <div class="item-details-premium full-width">
                        <div class="item-name-premium">8. Käsespätzle mit Salatbeilage</div>
                        <div class="item-allergens" style="display:none;">Enthält: Gluten (A), Ei (C), Laktose (G)</div>
                    </div>
                    <div class="item-price-premium">9,50 €</div>
                </div>

                <div class="menu-item-premium">
                    <div class="item-details-premium full-width">
                        <div class="item-name-premium">13. Großer Salatteller mit Putenstreifen</div>
                        <div class="item-allergens" style="display:none;">Enthält: Dressing (M)</div>
                    </div>
                    <div class="item-price-premium">12,00 €</div>
                </div>
            </section>
            
            <section class="menu-section premium-block">
                <h2 class="section-title">Feste & Feiern</h2>
                <p>Mieten Sie unsere Räumlichkeiten für Ihre nächste Feier. Die Menüauswahl finden Sie bei unseren Speiseplänen.</p>
                <p>Einfach Termin **telefonisch** vereinbaren unter 0 71 32 / 73 42.</p>
            </section>
        </main>

        <aside class="menu-sidebar">
            <div class="sidebar-block">
                <h3>Kontakt</h3>
                <p>Bootshaus Neckarsulm<br>
                Kanalstr. 16<br>
                74172 Neckarsulm</p>
                <p>E-Mail: <a href="mailto:bootshausnsu@gmail.com">bootshausnsu@gmail.com</a></p>
                <p>Feiertags geschlossen.</p>
            </div>
            
            <div class="sidebar-block">
                <h3>Unsere Location</h3>
                <div class="map-placeholder">
                    <p>Google Maps Ausschnitt</p>
                </div>
                <a href="https://maps.app.goo.gl/..." target="_blank" class="accent-button map-link">Route planen</a>
            </div>
        </aside>
    </div>
    
    <footer class="premium-footer">
        <p>Alle Preise inkl. MwSt | Telefonische Bestellungen bitte bis 11:30 Uhr</p>
    </footer>

</div>

<script>
async function loadWeeklyMenu() {
    const container = document.getElementById('weekly-menu-container');
    
    try {
        const response = await fetch('wochenkarte.json');
        if (!response.ok) {
            throw new Error(`HTTP-Fehler: ${response.status}`);
        }
        const data = await response.json();
        
        // Premium-Tabelle mit Bild-Platzhalter für die Menüs
        let html = `
            <h3 class="weekly-subtitle">Mittagstisch Dienstag – Donnerstag · 11:00 – 14:00 Uhr</h3>
            <p class="date-info">Gültig vom: <strong>${data.date_info}</strong></p>
            <div class="premium-menu-grid">
        `;

        data.daily_menu.forEach(dayMenu => {
            let menu1_content = dayMenu.menu_1_name;
            let menu2_content = dayMenu.menu_2_name;
            let is_closed = (dayMenu.day === 'Montag' || dayMenu.day === 'Freitag');
            
            if (is_closed) {
                menu1_content = 'Mittags geschlossen';
                menu2_content = 'Geschlossen';
            }
            if (dayMenu.day === 'Dienstag') {
                menu1_content = dayMenu.menu_1_name;
            }

            html += `
                <div class="day-block ${is_closed ? 'closed' : ''}">
                    <h4>${dayMenu.day}</h4>
                    
                    <div class="menu-option">
                        <span class="price-tag">${dayMenu.menu_1_price}</span>
                        <p>${menu1_content}</p>
                        <div class="item-allergens" style="display:none;">Allergene (A, G, C)</div>
                    </div>
                    
                    <div class="menu-option">
                        <span class="price-tag">${dayMenu.menu_2_price}</span>
                        <p>${menu2_content}</p>
                        <div class="item-allergens" style="display:none;">Allergene (C, L)</div>
                    </div>

                </div>
            `;
        });

        html += '</div>';
        container.innerHTML = html;
        
    } catch (error) {
        console.error("Fehler beim Laden der Wochenkarte:", error);
        container.innerHTML = `<p class="error-text">Die Wochenkarte konnte nicht geladen werden.</p>`;
    }
}

document.addEventListener('DOMContentLoaded', loadWeeklyMenu);
</script>

</body>
</html>
